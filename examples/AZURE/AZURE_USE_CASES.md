# AZURE EXAMPLE USE-CASES

## UC_01 - COLLECT_LOG_METRIC_FROM_THUNDER_IN_AZURE_&_PUBLISH_IN_AZURE
    - Use Cases : 01
    - Scenario  : Collect metrics and logs from thunder/thunders running in azure environment and publish it 
        into azure-application-insights and azure-log-analytics-workspace.
    
    - Description : Borse Inc is regular a10 client. Company purchased an instance of thunder long back and deployed it on Azure Cloud,
         This instance is configured as ADC server load balancer for there gaming applications named [Pokers and Football] in two partitions named POKERS and FOOTBALL,
         and from past few months company is getting timeout/fail-over complain from there online gaming customers. 
         These generally happened on occasions/event/festival/holidays due to high traffic load on thunder.
         Company wants a standard way to monitor all 14 metrics and logs generated by a thunder on Azure application 
         insights and log analytics workspace respectively.
         Also want to get email alert notifications when aggregated cpu usage crosses 75% threshold value so that proper 
         action can be taken on time.
      
    - Company has some shared environment with some hardware space leftover with below information:
        - Linux Environment IP : 10.22.32.51
        - Hardware 			: 2GB RAM, 1CPU, 4GB memory.
    
    - Company has below thunder environment details:
        - Thunder IP: 10.22.32.01
        - User Name : Online_Pokers_TH
        - Password : Thunder@Borse@3201
        - Resource_Id : South_Central_US_Online_Pokers_TH
    
    - Company has created below service app principal credentials
        - azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
        - azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
        - azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
        - azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
        - azure_location=southcentralus
    
    - Company has below Azure monitoring solution details:
        - Azure Log Analytics Workspace Details:
            - Workspace ID: 3477c53b-af9e-4c9a-b3ba-e6EXAMPLE
            - Primary Key : celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
        
        - Azure App Insight Details:
            - App Insight Resource ID : /subscriptions/07d34b9b-61e3-475a-abbc-00EXAMPLE/resourceGroups/vth-rg-example/providers/microsoft.insights/components/vth-app-insights-example
        
    - Solution : A10 support team suggested to install 'Thunder Observability Agent[TOA]' within AZURE platform.
        It's pretty straight forward and super easy.
    
    - Install & Configure TOA:
        - /usr/toaenv/thunder-observability-agent/config.json  
    
            {
                "azure_provider": 1,
                "azure_metric": 1,
                "azure_metric_resource_id": "/subscriptions/07d34b9b-61e3-475a-abbc-00EXAMPLE/resourceGroups/vth-rg-example/providers/microsoft.insights/components/vth-app-insights-example",
                "azure_cpu": 1,
                "azure_memory": 1,
                "azure_disk": 1,
                "azure_throughput": 1,
                "azure_interfaces": 1,
                "azure_cps": 1,
                "azure_tps": 1,
                "azure_server_down_count": 1,
                "azure_server_down_percentage": 1,
                "azure_ssl_cert": 1,
                "azure_server_error": 1,
                "azure_sessions": 1,
                "azure_packet_rate": 1,
                "azure_packet_drop": 1,
                "azure_log": 1,
                "azure_log_workspace_id": "3477c53b-af9e-4c9a-b3ba-e6EXAMPLE"
            }
    
        - /root/.thunder/credentials   
         
              {
                  "autoscale" : 0,
                  "provider" : "azure",
                  "thunders": [
                    {
                      "ip": "10.22.32.01",
                      "username": "Online_Pokers_TH",
                      "password": "Thunder@Borse@3201",
                      "resource_id": "South_Central_US_Online_Pokers_TH",
                      "active_partitions": "POKERS,FOOTBALL"
                    }
                  ]
              }
    
    
        - /root/.azure/credentials 
    
            azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
            azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
            azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
            azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
            azure_location=southcentralus
    
    -- All Set ---
    
    Check Logs : /var/logs/thunder-observability-agent/agent.log

## UC_02 - COLLECT_ONLY_LOG_FROM_THUNDER_IN_AZURE_&_PUBLISH_IN_AZURE
    - Use Cases : 02
    - Scenario  : Collect logs from thunder/thunders running in azure environment and publish it 
        into azure-log-analytics-workspace.
    
    - Description : Borse Inc is regular a10 client. Company purchased an instance of thunder long back and deployed it on Azure Cloud,
        This instance is configured as ADC server load balancer for there gaming applications named [Pokers and Football] in two partitions named POKERS and FOOTBALL,
        and from past few months company is getting timeout/fail-over complain from there online gaming customers. 
        These generally happened on occasions/event/festival/holidays due to high traffic load on thunder.
        Company wants a standard way to monitor logs generated by a thunder on Azure log analytics workspace.
    
    - Company has some shared environment with some hardware space leftover with below information:
        - Linux Environment IP : 10.22.32.51
        - Hardware 			: 2GB RAM, 1CPU, 4GB memory.
    
    - Company has below thunder environment details:
        - 1st Thunder IP: 10.22.32.01
        - User Name : Online_Pokers_TH
        - Password : Thunder@Borse@3201
        - Resource_Name : South_Central_US_Online_Pokers_TH
        
    - Company has created below service app principal credentials
        - azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
        - azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
        - azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
        - azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
        - azure_location=southcentralus
        
    - Company has below Azure monitoring solution details:
        - Azure Log Analytics Workspace Details:
            - Workspace ID: 3477c53b-af9e-4c9a-b3ba-e6EXAMPLE
            - Primary Key : celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
        
        - Azure App Insight Details:
            - App Insight Resource ID : /subscriptions/07d34b9b-61e3-475a-abbc-00EXAMPLE/resourceGroups/vth-rg-example/providers/microsoft.insights/components/vth-app-insights-example
        
    - Solution : A10 support team suggested to install 'Thunder Observability Agent[TOA]' within Azure Cloud.
        Its pretty straight forward and super easy.
      
    - Install & Configure TOA:
        - /usr/toaenv/thunder-observability-agent/config.json
           
              {
                  "azure_provider": 1,
                  "azure_log": 1,
                  "azure_log_workspace_id": "3477c53b-af9e-4c9a-b3ba-e6EXAMPLE"
              }
    
       - /root/.thunder/credentials
          
          {
              "autoscale" : 0,
              "provider" : "azure",
              "thunders": [
                {
                  "ip": "10.22.32.01",
                  "username": "Online_Pokers_TH",
                  "password": "Thunder@Borse@3201",
                  "resource_id": "South_Central_US_Online_Pokers_TH",
                  "active_partitions": "POKERS,FOOTBALL"
                }
              ]
          }
    
    
       - /root/.azure/credentials
        
            azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
            azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
            azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
            azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
            azure_location=southcentralus
    
    
    -- All Set ---
    
    Check Logs : /var/logs/thunder-observability-agent/agent.log

## UC_03 - COLLECT_ONLY_METRIC_FROM_THUNDER_IN_AZURE_&_PUBLISH_IN_AZURE
    - Use Cases		: 03
    - Scenario        : Collect metrics from thunder/thunders running in azure environment and publish it 
        into azure-application-insights.
    
    - Description : Borse Inc is regular a10 client. Company purchased an instance of thunder long back and deployed it on Azure Cloud,
         This instance is configured as ADC server load balancer for there gaming applications named [Pokers and Football] in two partitions named POKERS and FOOTBALL,
         and from past few months company is getting timeout/fail-over complain from there online gaming customers. 
         These generally happened on occasions/event/festival/holidays due to high traffic load on thunder.
         Company wants a standard way to monitor all 14 metrics by a thunder on Azure application 
         insights. Also want to get email alert notifications when aggregated cpu usage crosses 75% threshold 
         value so that proper action can be taken on time.
    
    - Company has some shared environment with some hardware space leftover with below information:
        - Linux Environment IP : 10.22.32.51
        - Hardware 			: 2GB RAM, 1CPU, 4GB memory.
    
    -Company has below thunder environment details:
        - 1st Thunder IP: 10.22.32.01
        - User Name : Online_Pokers_TH
        - Password : Thunder@Borse@3201
        - Resource_Name : South_Central_US_Online_Pokers_TH
    
    - Company has created below service app principal credentials
        - azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
        - azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
        - azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
        - azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
        - azure_location=southcentralus
            
    - Company has below Azure monitoring solution details:
        - Azure Log Analytics Workspace Details:
            - Workspace ID: 3477c53b-af9e-4c9a-b3ba-e6EXAMPLE
            - Primary Key : celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
        
        - Azure App Insight Details:
            - App Insight Resource ID : /subscriptions/07d34b9b-61e3-475a-abbc-00EXAMPLE/resourceGroups/vth-rg-example/providers/microsoft.insights/components/vth-app-insights-example
        
    - Solution : A10 support team suggested to install 'Thunder Observability Agent[TOA]' within Azure Cloud.
        Its pretty straight forward and super easy.
      
    - Install & Configure TOA:
       - /usr/toaenv/thunder-observability-agent/config.json
        
            {
              "azure_provider": 1,
              "azure_metric": 1,
              "azure_metric_resource_id": "/subscriptions/07d34b9b-61e3-475a-abbc-00EXAMPLE/resourceGroups/vth-rg-example/providers/microsoft.insights/components/vth-app-insights-example",
              "azure_cpu": 1,
              "azure_memory": 1,
              "azure_disk": 1,
              "azure_throughput": 1,
              "azure_interfaces": 1,
              "azure_cps": 1,
              "azure_tps": 1,
              "azure_server_down_count": 1,
              "azure_server_down_percentage": 1,
              "azure_ssl_cert": 1,
              "azure_server_error": 1,
              "azure_sessions": 1,
              "azure_packet_rate": 1,
              "azure_packet_drop": 1
            }
    
       - /root/.thunder/credentials
        
          {
              "autoscale" : 0,
              "provider" : "azure",
              "thunders": [
                {
                  "ip": "10.22.32.01",
                  "username": "Online_Pokers_TH",
                  "password": "Thunder@Borse@3201",
                  "resource_id": "South_Central_US_Online_Pokers_TH",
                  "active_partitions": "POKERS,FOOTBALL"
                }
              ]
          }
    
    
       - /root/.azure/credentials 
       
            azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
            azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
            azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
            azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
            azure_location=southcentralus
    
    
    -- All Set ---
    
    Check Logs : /var/logs/thunder-observability-agent/agent.log

## UC_04 - COLLECT_ONLY_LOG_FROM_THUNDER_IN_AZURE_&_PUBLISH_IN_VMWARE_VRLI
    - Use Cases : 04
    - Scenario  : Collect logs from thunder/thunders running in azure environment and publish it into vmware-vrli.
    
    - Description : Borse Inc is regular a10 client. Company purchased an instance of thunder long back and deployed it on Azure Cloud,
         This instance is configured as ADC server load balancer for there gaming applications named [Pokers and Football] in two partitions named POKERS and FOOTBALL,
         and from past few months company is getting timeout/fail-over complain from there online gaming customers. 
         These generally happened on occasions/event/festival/holidays due to high traffic load on thunder.
         Company wants a standard way to monitor logs generated by a thunder on VMware vRLI.
      
    - Company has some shared environment with some hardware space leftover with below information:
        - Linux Environment IP : 10.22.32.51
        - Hardware 			: 2GB RAM, 1CPU, 4GB memory.
    
    - Company has below thunder environment details:
        - 1st Thunder IP: 10.22.32.01
        - User Name : Online_Pokers_TH
        - Password : Thunder@Borse@3201
        - Resource_Name : South_Central_US_Online_Pokers_TH
    
    - Company has created below service app principal credentials
        - azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
        - azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
        - azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
        - azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
        - azure_location=southcentralus
        
    - Company has below vmware monitoring solution details:
        - vmware_vrli_host : 10.67.4.15:9543

    - Solution : A10 support team suggested to install 'Thunder Observability Agent[TOA]' within Azure Cloud.
        Its pretty straight forward and super easy.
      
    - Install & Configure TOA:
       - /usr/toaenv/thunder-observability-agent/config.json
        
          {
              "vmware_provider": 1,
              "vmware_log": 1,
              "vmware_vrli_host": "10.67.4.15:9543"
          }
    
       - /root/.thunder/credentials
         
          {
              "autoscale" : 0,
              "provider" : "aws",
              "thunders": [
                {
                  "ip": "10.22.32.01",
                  "username": "Online_Pokers_TH",
                  "password": "Thunder@Borse@3201",
                  "resource_id": "South_Central_US_Online_Pokers_TH",
                  "active_partitions": "POKERS,FOOTBALL"
                }
              ]
          }
    
    
       - /root/.azure/credentials
        
            azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
            azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
            azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
            azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
            azure_location=southcentralus
    
    -- All Set ---
    
    - Check Logs : /var/logs/thunder-observability-agent/agent.log


## UC_05 - COLLECT_ONLY_LOG_FROM_THUNDER_IN_AZURE_&_PUBLISH_IN_AWS_CLOUD_WATCH
    - Use Cases	: 05
    - Scenario  : Collect logs from thunder/thunders running in azure environment and publish it into aws-cloudwatch.
    - Description : Borse Inc is regular a10 client. Company purchased an instance of thunder long back and deployed it on Azure Cloud,
         This instance is configured as ADC server load balancer for there gaming applications named [Pokers and Football] in two partitions named POKERS and FOOTBALL,
         and from past few months company is getting timeout/fail-over complain from there online gaming customers. 
         These generally happened on occasions/event/festival/holidays due to high traffic load on thunder.
         Company wants a standard way to monitor logs generated by a thunder on AWS cloudwatch.
      
    - Company has some shared environment with some hardware space leftover with below information:
        - Linux Environment IP : 10.22.32.51
        - Hardware 			: 2GB RAM, 1CPU, 4GB memory.
    
    - Company has below thunder environment details:
        - 1st Thunder IP: 10.22.32.01
        - User Name : Online_Pokers_TH
        - Password : Thunder@Borse@3201
        - Resource_Name : South_Central_US_Online_Pokers_TH
    
    - Company has created below service app principal credentials
        - azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
        - azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
        - azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
        - azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
        - azure_location=southcentralus
    
    - Company has created below AWS credentials to provide access of aws services 
        - aws_access_key_id = AKIAIOSFODNN7EXAMPLE
        - aws_secret_access_key = wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
        - region = us_east_1
      
    - Company has below aws monitoring solution details:
        - aws_log_group_name: Thunder
        
    - Solution : A10 support team suggested to install 'Thunder Observability Agent[TOA]' within Azure Cloud.
        Its pretty straight forward and super easy.
        
    - Install & Configure TOA:
        - /usr/toaenv/thunder-observability-agent/config.json
          
          {
            "aws_provider": 1,
            "aws_log": 1,
            "aws_log_group_name": "Thunder"
          }
    
        - /root/.thunder/credentials
      
          {
              "autoscale" : 0,
               "provider" : "aws",
               "thunders": [
              {
                "ip": "10.22.32.01",
                "username": "Online_Pokers_TH",
                "password": "Thunder@Borse@3201",
                "resource_id": "South_Central_US_Online_Pokers_TH",
                "active_partitions": "POKERS,FOOTBALL"
              }
            ]
          }
    
        - /root/.aws/credentials
    
            [default]
            aws_access_key_id = AKIAIOSFODNN7EXAMPLE
            aws_secret_access_key = wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
    
        - /root/.aws/config
    
            [default]
            region = east_us_1
            output = json
        
        - /root/.azure/credentials
    
            azure_workspace_primary_key=celL8uMkJHegvY1KA3nF2NGjh+EesW1/dG0k3Z0rxytdJTP+PmctRiE8md96+iLGov0B7O6uEXAMPLE==
            azure_client_id=39206b7b-2ce6-4e04-a4ff-e5EXAMPLE
            azure_secret_id=w1Y8Q~RMM1ZEtz384LtNcMM_S69O6-sQEXAMPLE
            azure_tenant_id=91d27ab9-8c5e-41d4-82e8-3dEXAMPLE
            azure_location=southcentralus
    
    -- All Set ---
    
    - Check Logs : /var/logs/thunder-observability-agent/agent.log
      